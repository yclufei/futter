--print("repuire util.wstring")gr_module("util")wstring = {}wstring.len = function (text)	local len = 0	local i = 1	while i <= string.len(text) do		local b = string.byte(text,i)		if b >= 128 then			i = i + 2					else			i = i + 1					end		len = len + 1	end	return lenend-- return s[start, end] wstring.sub = function (s, istart, iend)	if not iend then		iend = wstring.len(s)	end	if iend < istart then		return ""	end	local rstart, rend	local ri = 1	local i  = 1	while i <= string.len(s) do		if ri == istart then rstart = i end		local b = string.byte(s, i)		if b >= 128 then			i = i + 2					else			i = i + 1					end		if ri == iend then			rend = i - 1			break		end		ri = ri + 1	end	return string.sub(s, rstart, rend)endwstring.split = function(str, split_char)	split_char = split_char or " "	local i	local bg, ed = 1	local len = string.len(str)	local rel = {}	for i=1, len do		--print(i, string.sub(str, i, i))		if (string.sub(str, i, i) == split_char) or (i == len) then			local line = string.sub(str, bg, i==len and i or i-1)			if line then				table.insert(rel, line)			end			bg = i + 1		end	end	return relendstring.tonumber = function(num)	if type(num) == "string" then		return tonumber(num)	else		return num	endend 